@startuml AI Factory - Application Layer Architecture
!theme plain

title AI Factory Application Layer - High-Level Architecture
footer Simplified view for paper/presentation

' Define high-level components with cleaner styling
package "Workload Layer" {
  component "Training Job" as Job <<workload>>
}

package "Execution Layer" {
  component "Job Scheduler" as Scheduler <<controller>>
  component "Barrier\nSynchronizer" as Sync <<sync>>
}

package "Network Abstraction" {
  component "Flow Injector" as Injector <<adapter>>
}

package "Infrastructure" {
  component "Event Simulator" as Sim <<infrastructure>>
  component "Network" as Network <<infrastructure>>
}

' Main flow
Job --> Scheduler : "Training steps &\nphases"
Scheduler --> Sim : "Schedule compute\n& communication"
Scheduler --> Sync : "Track collective\ncompletion"
Scheduler --> Injector : "Submit flows"
Injector --> Network : "Packetize &\ntransmit"
Network --> Injector : "Completion\nnotifications"
Injector --> Sync : "Flow complete"
Sync --> Scheduler : "Phase done"

' Key concepts note
note right of Job
  **Training Job Model**
  • Steps (iterations)
  • Compute phases
  • Communication phases
  • Collective operations
end note

note bottom of Scheduler
  **Event-Driven Execution**
  All operations scheduled as events
  Non-blocking, time-ordered progression
end note

note left of Injector
  **Network Abstraction**
  Bridges training semantics
  to packet-level simulation
end note

@enduml
